var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HttpRequest=function(){function t(){this.http=this.getHTTPObject()}return t.prototype.getHTTPObject=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}return!1},t}(),Http=function(t){function e(e){var n=t.call(this)||this;return n.responseType="json",n.responseType=e||n.responseType,n}return __extends(e,t),e.prototype.Xhttp=function(t,e){var n=this,r=this.http;return new Promise(function(o,s){r.open(n.method,n.url),r.responseType=n.responseType,r.timeout=3e3,r.setRequestHeader("Content-Type","application/json"),e&&e instanceof Object&&Object.keys(e).length>0&&r.setRequestHeader(e),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?r.onload=function(){return o(r.response)}:r.onerror=function(){return s(r.statusText||"Erreur Traitement de données !")})};var u=r.send(t||null);u||(r.onerror=function(){return s(u||"Erreur Traitement de données !")})})},e.prototype.get=function(t,e){return this.method="get",this.url=t,this.Xhttp(e)},e.prototype.post=function(t,e,n){return this.method="post",this.url=t,this.Xhttp(e?JSON.stringify(e):null,n)},e.prototype.abort=function(){this.http.abort()},e}(HttpRequest);
